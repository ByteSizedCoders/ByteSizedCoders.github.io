<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course enrolment</title>
    <link rel="stylesheet" href="navbar.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link rel="stylesheet" href="shared.css" />
    <script src="main.js"></script>
    <style>
      body{
        background-color: var(--primary-color);
       
      }
      .Enroll-form {
      
        font-family: Arial, Helvetica, sans-serif;
        font-size: 1em;
        align-items: center;
        margin: 9em;
        margin-top: 1em;
        color: #fff;
      }
     label {
        align-items: normal;
        text-align: left;
        font-size: 1.4em;
      }
      .title {
        padding-top: 5vw;
        color: var(--cen1);
        margin: 2vw;
      }
      form {
        background-color: var(--cen2);
        padding: 3vw;
        border-radius: 3vw;
        box-shadow: 0 0 4vw rgba(0, 0, 0, 0.4);
      }
      h2 {
        align-items:center;
        text-align: left;
        font-size: 1em;
        padding: 3%;
       
      }

   
      select {
        width: 90%;
        padding: 0.3em;
        font-size: 1.7vw;
        background-color: #ffffff;
        color: #000000;
        border: none;
        border-radius: 1vw;
        margin-bottom: 0.4em;
      }

      option {
        color: black;
      }

      
      .custom-checkbox {
        display: flex;
        align-items: center;
        margin: 3vw;
      }

      .custom-checkbox label {
        font-size: 18px;
        margin-left: 10px;
        font-family: Arial, Helvetica, sans-serif;
        padding-left: 10px;
      }

      .custom-checkbox input {
        width: 20px;
        height: 20px;
        margin-right: 10px;
      }

      img.checkbox-image {
        width: 50px;
        height: 50px;
      }

      .centered-button {
        display: flex;
        justify-content: center;
        align-items: center;
      }
    
      main{
        margin: 0;
        padding: 0;
      }
     
      button[type="submit"] {
        background-color: #e1b5fb;
        color: #ffffff;
        padding: 1vw 2vw;
        margin: 1vw;
        font-size: 1.4em;
        border: none;
        border-radius: 1vw;
      }
      button[type="submit"]:hover {
        background-color: #f7e6fd;
      }
      
     input[type] {
        float: right;
        margin-left: 1em;
        padding-top: 2em;
      }
    </style>
  </head>
  <body onload="onload()">
    <nav class="navbar">
      <div>
        <a href="index.html" accesskey="h"
          ><img src="images/logo (2).png" alt="logo"
        /></a>
      </div>
      <ul class="navlist" id="nav">
        <li class="list-item">
          <a href="courses.html" accesskey="c">Courses</a>
        </li>
        <li>
          <a href="Tutorss.html" accesskey="t">Tutors</a>
        </li>
        <li>
          <a href="admininstrator.html" accesskey="a">Administrator</a>
        </li>
        <li>
          <a href="parent.html" accesskey="p">Parent</a>
        </li>
        <li>
          <a href="AboutUs.html" accesskey="b">About us</a>
        </li>
      </ul>
      <div class="menu" id="button">
        <div class="menu-line"></div>
        <div class="menu-line"></div>
        <div class="menu-line"></div>
      </div>
    </nav>

    <!-- end of nav -->
    <!--breadcrumbs-->

    <div class="breadcrumbs">
      <ul>
        <li>
          <a href="index.html">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              class="w-6 h-6"
            >
              <path
                d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"
              />
              <path
                d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"
              />
            </svg>
          </a>
        </li>

        <li>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-6 h-6"
          >
            <path
              fill-rule="evenodd"
              d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z"
              clip-rule="evenodd"
            />
          </svg>
        </li>

        <li><a href="parent.html">parent</a></li>
        <li>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-6 h-6"
          >
            <path
              fill-rule="evenodd"
              d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z"
              clip-rule="evenodd"
            />
          </svg>
        </li>
        <li><a href="#">Course enrolment</a></li>
      </ul>
    </div>
    <!-- breadcrumbs  -->
    <main class="main">
      <div class="title"><h1>Course enrolment</h1></div>
      <form class="Enroll-form">
        <h2>student name:</h2>
        <select id="kids" name="kids">
          <option value="">choose student</option>
        </select>

        <h2><br></h2>
        <div class="f">
          <div>
            <select id="prerequisites" name="prerequisites">
          <option value="">filter by prerequisites</option>
        </select>
        <i class="fa-solid fa-filter" style="color: #ffffff"></i>
          </div>
        <div>
          <select id="tutors" name="tutors">
            <option value="">filter by tutors</option>
          </select>
          <i class="fa-solid fa-filter" style="color: #ffffff"></i>      </div>
        <div
          class="custom-checkbox"
          tutor="Tammy west"
          prerequisite="Basic understanding of programming concepts and logic"
        >
          <input
            type="checkbox"
            id="Java for beginners"
            name="agree"
            value="Java for beginners"
          />
          <img
            class="checkbox-image"
            src="images/JavaScript-logo.png"
            alt="Java for beginners"
          />
          <label for="Java for beginners">Java Script </label>
        </div>

        <div
          class="custom-checkbox"
          tutor="Rachel green"
          prerequisite="Familiarity with web browsing"
        >
          <input type="checkbox" id="HTML" name="agree" value="HTML" />
          <img class="checkbox-image" src="images/htmlPhoto.png" alt="Checkmark" />
          <label for="HTML">HTML</label>
        </div>
        <div
          class="custom-checkbox"
          tutor="Hailey Rhode"
          prerequisite="Basic understanding of programming concepts and logic"
        >
          <input
            type="checkbox"
            id="python for beginners"
            name="agree"
            value="python for beginners"
          />
          <img class="checkbox-image" src="images/Python.svg.png" alt="Checkmark" />
          <label for="python for beginners">Python</label>
        </div>
        <div
          class="custom-checkbox"
          tutor="Daniel Roberts"
          prerequisite="Basic understanding of computer programming concepts"
        >
          <input type="checkbox" id="UX/UI" name="agree" value="UX/UI" />
          <img class="checkbox-image" src="images\UX.jpg" alt="UX" />
          <label for="UX/UI">UX</label>
        </div>
        <div
          class="custom-checkbox"
          tutor="Alissa jacks"
          prerequisite="Familiarity with web browsing"
        >
          <input
            type="checkbox"
            id="intro"
            name="agree"
            value="Introduction to progarmming"
          />
          <img
            class="checkbox-image"
            src="images/game-coding.jpg"
            alt="Introduction to progarmming"
          />
          <label for="intro">Introduction to progarmming</label>
        </div>
        <div
          class="custom-checkbox"
          tutor="Dan Parker"
          prerequisite="Basic understanding of programming concepts and logic"
        >
          <input type="checkbox" id="C++" name="agree" value="C++" />
          <img class="checkbox-image" src="images\Cplus.jpeg" alt="C++" />
          <label for="C++">C++ </label>
        </div>
      </form>
     
      <div class="centered-button">
        <div class="Button">
          <button type="submit" value="Submit">Enroll</button>
        </div>
     
    </main>
    
    
    <!--footer-->
    <footer class="footer">
      <div class="footercontainer">
        <div class="footerrow">
          <div class="footer-col">
            <h4>Location</h4>
            <ul>
              <li>saudi arabia, Riyadh</li>
              <li>saudi arabia, jeddah</li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>follow us</h4>
            <div class="social">
              <i class="fa-brands fa-twitter" style="color: #ffffff"></i>
              <i class="fa-brands fa-instagram" style="color: #ffffff"></i>
              <i class="fa-brands fa-facebook" style="color: #ffffff"></i>
              <i class="fa-brands fa-linkedin" style="color: #ffffff"></i>
            </div>
            <p id="copyRight">Â©2023 Byte-sized coders</p>
          </div>
          <div class="footer-col">
            <h4>get help</h4>
            <ul>
              <li>+9660552778344</li>
              <li>Byte-sized-coders@gmail.com</li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
     
<script>
   
  document.addEventListener("DOMContentLoaded", function () {
  


    

      var courses = [
          { name: "Java for beginners", tutor: "Tammy west", prerequisite: "Basic understanding of programming concepts and logic"  },
          { name: "HTML", tutor: "Rachel green", prerequisite: "Familiarity with web browsing"  },
          { name: "python for beginners", tutor: "Hailey Rhode", prerequisite: "Basic understanding of programming concepts and logic" },
          { name: "CSS", tutor: "Hailey Rhode", prerequisite: "HTML" },
          { name: "JavaScript", tutor: "Rachel green", prerequisite: "Basic understanding of programming concepts and logic" },
          { name: "UX/UI", tutor: "Daniel Roberts", prerequisite: "Basic understanding of computer programming concepts" },
          { name: "introduction to programming", tutor:"Sarah Adams", prerequisite: "Familiarity with web browsing" },
          { name: "C++", tutor: "Tammy west", prerequisite: "Basic understanding of programming concepts and logic" },
          { name: "Graphic Design", tutor: "Alissa jacks", prerequisite: "Basic understanding of design principles, visual aesthetics, and human behavior" }
      ];



// Assuming you're in the course enrollment section or a new script block

// Retrieve existing children from local storage
const existingChildren = JSON.parse(localStorage.getItem("parentChildren")) || [];

// Get the <select> element
const selectElement = document.getElementById("kids");

// Check if there are any registered kids
if (existingChildren.length > 0) {
  // Loop through the kids and populate the <select> element
  for (const child of existingChildren) {
    // Create an <option> element for each child
    const optionElement = document.createElement("option");
    
    // Set the value to the kid's name (you can change this based on your structure)
    optionElement.value = child.kidName;
    
    // Display the kid's name as the option text
    optionElement.text = child.kidName;

    // Append the <option> to the <select> element
    selectElement.appendChild(optionElement);
  }
} else {
  // If no registered kids found, you can provide a default option or handle it accordingly
  const defaultOption = document.createElement("option");
  defaultOption.text = "No students available";
  selectElement.appendChild(defaultOption);
}



      function populateKidsDropdown() {
    var kidsDropdown = document.getElementById('kids');
    var kids = JSON.parse(localStorage.getItem('ChildRecords'));

    kids?.forEach(function (kid) {
      var option = document.createElement('option');
      option.value = kid.firstName;
      option.textContent = kid.firstName;
      kidsDropdown.appendChild(option);
    });
  }
  
  populateKidsDropdown();
          fillFilterOptions("prerequisites", getUniquePrerequisites(courses));
          fillFilterOptions("tutors", getUniqueTutors(courses));

          document.getElementById("tutors").addEventListener("change", filterCourses);
          document.getElementById("prerequisites").addEventListener("change", filterCourses);
          document.querySelector("form").addEventListener("submit", handleFormSubmit);

          filterCourses(); 

          function fillFilterOptions(selectId, options) {
              var select = document.getElementById(selectId);
              options.forEach(function (option) {
                  var optionElement = document.createElement("option");
                  optionElement.value = option;
                  optionElement.textContent = option;
                  select.appendChild(optionElement);
              });
          }

          function getUniquePrerequisites(courses) {
              // Function to get unique prerequisites from courses array
              var prerequisites = courses.map(course => course.prerequisite);
              return Array.from(new Set(prerequisites.filter(Boolean)));
          }

          function getUniqueTutors(courses) {
              // Function to get unique tutors from courses array
              var tutors = courses.map(course => course.tutor);
              return Array.from(new Set(tutors));
          }

          


    
  function filterCourses() {
  var tutorFilter = document.getElementById("tutors");
  var selectedTutor = tutorFilter.value;

  var prerequisitesFilter = document.getElementById("prerequisites");
  var selectedPrerequisite = prerequisitesFilter.value;

  var courseCards = document.getElementsByClassName("custom-checkbox");

  for (var i = 0; i < courseCards.length; i++) {
      var courseCard = courseCards[i];
      var tutor = courseCard.getAttribute("tutor");
      var prerequisites = courseCard.getAttribute("prerequisite");

      var tutorMatch = selectedTutor === "" || tutor === selectedTutor;
      var prerequisiteMatch = selectedPrerequisite === "" || prerequisites===selectedPrerequisite;

      if (tutorMatch && prerequisiteMatch) {
          courseCard.style.display = "block"; // Show the course card
      } else {
          courseCard.style.display = "none"; // Hide the course card
      }
  }
}      

  
  
          function handleFormSubmit(event) {
              // Submit button click event
              event.preventDefault(); // Prevent the default form submission behavior

              // Check if a child is selected
              var selectedChild = document.getElementById("kids").value;
              if (!selectedChild) {
                  alert("Please select a child.");
                  return;
              }

              // Check if at least one course is selected
              var selectedCourses = Array.from(document.querySelectorAll(".custom-checkbox input:checked")).map(function (checkbox) {
                  return checkbox.getAttribute('value');
              });

              if (selectedCourses.length === 0) {
                  alert("Please select at least one course.");
                  return;
              }

              
              // Display information on the page
              var infoContainer = document.createElement("div");
              infoContainer.className = "enrollment-info";
              infoContainer.innerHTML = "<h3>Enrollment Information</h3>" +
                  "<p>Child: " + selectedChild + "</p>" +
                  "<p>Courses:</p><ul>" + selectedCourses.map(course => "<li>" + course + "</li>").join("") + "</ul>";

              // Clear previous information and display new information
              var previousInfo = document.querySelector(".enrollment-info");
              if (previousInfo) {
                  previousInfo.remove();
              }
             

              document.querySelector("main").appendChild(infoContainer);

              // Clear the form
              document.querySelector("form").reset();
          }
          
      });
</script>
     
  </body>
</html>
